usage_message="Usage $0 <command>\nCommands:"

_create_deployment() {
  kubectl apply -f yamlConfig/deployment.yaml
  kubectl rollout status deploy dobby
}

__create_service() {
  kubectl apply -f yamlConfig/service.yaml
}

__deploy() {
  _create_deployment
  __create_service
}

CMD=${1:-}
shift || true
if __${CMD} "$@"; then ## Functions to be called as commands are prefixed with __
  exit 0
else
  echo -e "$usage_message\n$(declare -F | sed -n "s/declare -f __/ - /p")"
fi